(ns natsume-server.nlp.cabocha-wrapper-test
  (:require [clojure.test :refer :all]
            [natsume-server.nlp.cabocha-wrapper :refer :all :as cabocha]))

(deftest parse-sentence-test
  (is (= (parse-sentence "Hello world")
         [#:chunk{:id     0,
                  :link   -1,
                  :head   1,
                  :tail   1,
                  :prob   0.0,
                  :tokens [#:morpheme{:pos        :noun,
                                      :pos-1      "名詞",
                                      :pos-2      "普通名詞",
                                      :pos-3      "一般",
                                      :pos-4      "*",
                                      :c-type     "*",
                                      :c-form     "*",
                                      :l-form     "ハロー",
                                      :lemma      "ハロー-hello",
                                      :orth       "Hello",
                                      :pron       "ハロー",
                                      :orth-base  "Ｈｅｌｌｏ",
                                      :pron-base  "ハロー",
                                      :goshu      "外",
                                      :i-type     "*",
                                      :i-form     "*",
                                      :f-type     "*",
                                      :f-form     "*",
                                      :ne         nil,
                                      :begin      0,
                                      :end        5,
                                      ;:tags       nil,
                                      :a-con-type "C1",
                                      :type       "体",
                                      :i-con-type "*",
                                      :kana-base  "ハロー",
                                      :lemma-id   "30300",
                                      :lid        "8328809237586432",
                                      :form-base  "ハロー",
                                      :f-con-type "*",
                                      :form       "ハロー",
                                      :a-mod-type "*",
                                      :a-type     "1",
                                      :kana       "ハロー"}
                           #:morpheme{:pos        :noun,
                                      :pos-1      "名詞",
                                      :pos-2      "普通名詞",
                                      :pos-3      "一般",
                                      :pos-4      "*",
                                      :c-type     "*",
                                      :c-form     "*",
                                      :l-form     "ワールド",
                                      :lemma      "ワールド-world",
                                      :orth       "world",
                                      :pron       "ワールド",
                                      :orth-base  "ｗｏｒｌｄ",
                                      :pron-base  "ワールド",
                                      :goshu      "外",
                                      :i-type     "*",
                                      :i-form     "*",
                                      :f-type     "*",
                                      :f-form     "*",
                                      :ne         nil,
                                      :begin      5,
                                      :end        10,
                                      ;:tags       nil,
                                      :a-con-type "C1",
                                      :type       "体",
                                      :i-con-type "*",
                                      :kana-base  "ワールド",
                                      :lemma-id   "41404",
                                      :lid        "11381053616955904",
                                      :form-base  "ワールド",
                                      :f-con-type "*",
                                      :form       "ワールド",
                                      :a-mod-type "*",
                                      :a-type     "1",
                                      :kana       "ワールド"}]}])))